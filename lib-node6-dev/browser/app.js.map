{"version":3,"sources":["../../src/browser/app.js"],"names":["moduleDescriptors","app","appVersion","window","VERSION","start","init","document","getElementById","catchErrors","use","MODULE_IDENTIFIER","initialRender","initialData","run"],"mappings":";;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AAEA;;IAAYA,iB;;;;;;2cARZ;;;AAUA,MAAMC,MAAM,mBAAZ;AACAA,IAAIC,UAAJ,GAAiBC,OAAOC,OAAxB;;AAEAH,IAAII,KAAJ,mBAAU,aAAY;AACpB;AACA,QAAMJ,IAAIK,IAAJ,EAAN;AACA,uBAAUL,GAAV;AACA,+BAAWM,SAASC,cAAT,CAAwB,KAAxB,CAAX,EAA2CP,GAA3C;;AAEA;AACAA,MAAIQ,WAAJ;AACAR,MAAIS,GAAJ,CAAQ,yEAAmCT,GAAnC,CAAR;;AAEA,MAAIE,OAAOQ,iBAAX,EAA8B;AAC5B,UAAMV,IAAIW,aAAJ,CAAkBZ,kBAAkBG,OAAOQ,iBAAzB,CAAlB,EAA+DR,OAAOU,WAAtE,CAAN;AACD;;AAED,QAAMZ,IAAIa,GAAJ,EAAN;AACD,CAfD","file":"app.js","sourcesContent":["/* global window, document */\nimport Alp from 'alp';\nimport router from 'alp-limosa';\nimport reactredux from 'alp-react-redux';\nimport { init as websocket } from '../websocket';\nimport controllers from '../modules/controllers.browser';\nimport routerBuilder from '../routerBuilder';\n\nimport * as moduleDescriptors from '../modules';\n\nconst app = new Alp();\napp.appVersion = window.VERSION;\n\napp.start(async () => {\n  // init\n  await app.init();\n  websocket(app);\n  reactredux(document.getElementById('app'))(app);\n\n  // middlewares\n  app.catchErrors();\n  app.use(router(routerBuilder, controllers)(app));\n\n  if (window.MODULE_IDENTIFIER) {\n    await app.initialRender(moduleDescriptors[window.MODULE_IDENTIFIER], window.initialData);\n  }\n\n  await app.run();\n});\n"]}