{"version":3,"sources":["../../src/server/app.js"],"names":["app","start","proxy","DATA_PATH","__dirname","servePublic","catchErrors","use","Promise","all","listen"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,MAAM,mBAAZ;;AAEAA,IAAIC,KAAJ,mBAAU,aAAY;AACpB;AACAD,MAAIE,KAAJ,GAAY,IAAZ;AACAF,MAAIG,SAAJ,GAAiB,IAAEC,SAAU,eAA7B;AACA,+CAAiBJ,GAAjB;;AAEA;AACAA,MAAIK,WAAJ;AACAL,MAAIM,WAAJ;AACAN,MAAIO,GAAJ,CAAQ,yEAAmCP,GAAnC,CAAR;;AAEA,QAAMQ,QAAQC,GAAR,CAAY,CAChBT,IAAIU,MAAJ,EADgB,EAEhB,qBAAUV,GAAV,CAFgB,CAAZ,CAAN;AAID,CAfD","file":"app.js","sourcesContent":["import Alp from 'alp';\nimport reactredux from 'alp-react-redux';\nimport router from 'alp-limosa';\nimport routerBuilder from '../routerBuilder';\nimport Html from '../modules/common/layouts/Html';\nimport controllers from '../modules/controllers.server';\nimport { init as websocket } from '../websocket';\n\nconst app = new Alp();\n\napp.start(async () => {\n  // config / init\n  app.proxy = true;\n  app.DATA_PATH = `${__dirname}/../../data/`;\n  reactredux(Html)(app);\n\n  // middlewares\n  app.servePublic();\n  app.catchErrors();\n  app.use(router(routerBuilder, controllers)(app));\n\n  await Promise.all([\n    app.listen(),\n    websocket(app),\n  ]);\n});\n\n"]}