{"version":3,"sources":["views/reducers/raspberries.js"],"names":[],"mappings":";;;;;;;;kBAkDwB,WAAW;;AAlDnC,iDAAyL;;AACzL,6EAAuE;;AAEvE,SAAS,SAAS,CAAC,SAAS,EAAE,MAAM,EAAE;AAClC,QAAI,MAAM,CAAC,IAAI,6BAAkB,EAAE;AAC/B,eAAO,MAAM,CAAC,SAAS,CAAC;KAC3B;;AAED,QAAI,SAAS,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,EAAE;AAC5B,eAAO,SAAS,CAAC;KACpB;;AAED,YAAQ,MAAM,CAAC,IAAI;AACf;AACI,mBAAO,MAAM,CAAC,SAAS,CAAC;AAAA,AAC5B;AACI,gCACO,SAAS;AACZ,sBAAM,EAAE,IAAI;eACd;AAAA,AACN;AACI,gCACO,SAAS,EACT,MAAM,CAAC,OAAO;AACjB,sBAAM,EAAE,KAAK;eACf;AAAA,AACN;AACI,gCACO,SAAS,EACT,MAAM,CAAC,OAAO;AACjB,uBAAO,eACA,SAAS,CAAC,OAAO;AACpB,qBAAC,MAAM,CAAC,MAAM,GAAG,SAAS;kBAC7B;eACH;AAAA,AACN;AACI,gCACO,SAAS,EACT,MAAM,CAAC,OAAO;AACjB,uBAAO,eACA,SAAS,CAAC,OAAO;AACpB,qBAAC,MAAM,CAAC,MAAM,GAAG,IAAI;kBACxB;eACE,8CAAiB,MAAM,CAAC,MAAM,CAAC,EACpC;AAAA,AACN;AACI,mBAAO,SAAS,CAAC;AAAA,KACxB;CACJ;;AAEc,SAAS,WAAW,GAA2B;QAA1B,WAAW,yDAAG,EAAE;QAAE,MAAM;;AACxD,YAAQ,MAAM,CAAC,IAAI;AACf;AACI,mBAAO,CACH,GAAG,WAAW,EACd,SAAS,CAAC,SAAS,EAAE,MAAM,CAAC,CAC/B,CAAC;AAAA,AACN;AACI,mBAAO,WAAW,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,CAAC,CAAC;AAAA,AACvD;AACI,mBAAO,MAAM,CAAC,WAAW,CAAC;AAAA,AAC9B,yCAAsB;AACtB,yCAAsB;AACtB,wCAAqB;AACrB,iDAA8B;AAC9B;AACI,mBAAO,WAAW,CAAC,GAAG,CAAC,CAAC,IAAI,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;AAAA,AACtD;AACI,mBAAO,WAAW,CAAC;AAAA,KAC1B;CACJ","file":"views/reducers/raspberries.js","sourcesContent":["import { UPDATE_ALL, ADD_RASPBERRY, UPDATE_RASPBERRY, REMOVE_RASPBERRY, SAVING_RASPBERRY, SAVED_RASPBERRY, SENDING_ACTION_RASPBERRY, ACTION_SENT_RASPBERRY } from '../actions/raspberry';\nimport { updateFromAction } from '../../common/raspberryActionManager';\n\nfunction raspberry(raspberry, action) {\n    if (action.type === ADD_RASPBERRY) {\n        return action.raspberry;\n    }\n\n    if (raspberry.id !== action.id) {\n        return raspberry;\n    }\n\n    switch (action.type) {\n        case UPDATE_RASPBERRY:\n            return action.raspberry;\n        case SAVING_RASPBERRY:\n            return {\n                ...raspberry,\n                saving: true,\n            };\n        case SAVED_RASPBERRY:\n            return {\n                ...raspberry,\n                ...action.changes,\n                saving: false,\n            };\n        case SENDING_ACTION_RASPBERRY:\n            return {\n                ...raspberry,\n                ...action.changes,\n                actions: {\n                    ...raspberry.actions,\n                    [action.action]: 'sending',\n                },\n            };\n        case ACTION_SENT_RASPBERRY:\n            return {\n                ...raspberry,\n                ...action.changes,\n                actions: {\n                    ...raspberry.actions,\n                    [action.action]: null,\n                },\n                ...updateFromAction(action.action),\n            };\n        default:\n            return raspberry;\n    }\n}\n\nexport default function raspberries(raspberries = [], action) {\n    switch (action.type) {\n        case ADD_RASPBERRY:\n            return [\n                ...raspberries,\n                raspberry(undefined, action),\n            ];\n        case REMOVE_RASPBERRY:\n            return raspberries.filter(r => r.id !== action.id);\n        case UPDATE_ALL:\n            return action.raspberries;\n        case UPDATE_RASPBERRY:\n        case SAVING_RASPBERRY:\n        case SAVED_RASPBERRY:\n        case SENDING_ACTION_RASPBERRY:\n        case ACTION_SENT_RASPBERRY:\n            return raspberries.map(r => raspberry(r, action));\n        default:\n            return raspberries;\n    }\n}\n"],"sourceRoot":"/"}