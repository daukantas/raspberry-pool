{"version":3,"sources":["views/reducers/raspberries.js"],"names":[],"mappings":";;;;;;;;kBAkDwB,W;;AAlDxB;;AACA;;AAEA,SAAS,SAAT,CAAmB,SAAnB,EAA8B,MAA9B,EAAsC;AAClC,QAAI,OAAO,IAAP,6BAAJ,EAAmC;AAC/B,eAAO,OAAO,SAAd;AACH;;AAED,QAAI,UAAU,EAAV,KAAiB,OAAO,EAA5B,EAAgC;AAC5B,eAAO,SAAP;AACH;;AAED,YAAQ,OAAO,IAAf;AACI;AACI,mBAAO,OAAO,SAAd;AACJ;AACI,gCACO,SADP;AAEI,wBAAQ;AAFZ;AAIJ;AACI,gCACO,SADP,EAEO,OAAO,OAFd;AAGI,wBAAQ;AAHZ;AAKJ;AACI,gCACO,SADP,EAEO,OAAO,OAFd;AAGI,sCACO,UAAU,OADjB;AAEI,qBAAC,OAAO,MAAR,GAAiB;AAFrB;AAHJ;AAQJ;AACI,gCACO,SADP,EAEO,OAAO,OAFd;AAGI,sCACO,UAAU,OADjB;AAEI,qBAAC,OAAO,MAAR,GAAiB;AAFrB;AAHJ,eAOO,8CAAiB,OAAO,MAAxB,CAPP;AASJ;AACI,mBAAO,SAAP;AAlCR;AAoCH;;AAEc,SAAS,WAAT,GAA+C;AAAA,QAA1B,WAA0B,yDAAZ,EAAY;AAAA,QAAR,MAAQ;;AAC1D,YAAQ,OAAO,IAAf;AACI;AACI,mBAAO,CACH,GAAG,WADA,EAEH,UAAU,SAAV,EAAqB,MAArB,CAFG,CAAP;AAIJ;AACI,mBAAO,YAAY,MAAZ,CAAmB;AAAA,uBAAK,EAAE,EAAF,KAAS,OAAO,EAArB;AAAA,aAAnB,CAAP;AACJ;AACI,mBAAO,OAAO,WAAd;AACJ;AACA;AACA;AACA;AACA;AACI,mBAAO,YAAY,GAAZ,CAAgB;AAAA,uBAAK,UAAU,CAAV,EAAa,MAAb,CAAL;AAAA,aAAhB,CAAP;AACJ;AACI,mBAAO,WAAP;AAjBR;AAmBH","file":"views/reducers/raspberries.js","sourcesContent":["import { UPDATE_ALL, ADD_RASPBERRY, UPDATE_RASPBERRY, REMOVE_RASPBERRY, SAVING_RASPBERRY, SAVED_RASPBERRY, SENDING_ACTION_RASPBERRY, ACTION_SENT_RASPBERRY } from '../actions/raspberry';\nimport { updateFromAction } from '../../common/raspberryActionManager';\n\nfunction raspberry(raspberry, action) {\n    if (action.type === ADD_RASPBERRY) {\n        return action.raspberry;\n    }\n\n    if (raspberry.id !== action.id) {\n        return raspberry;\n    }\n\n    switch (action.type) {\n        case UPDATE_RASPBERRY:\n            return action.raspberry;\n        case SAVING_RASPBERRY:\n            return {\n                ...raspberry,\n                saving: true,\n            };\n        case SAVED_RASPBERRY:\n            return {\n                ...raspberry,\n                ...action.changes,\n                saving: false,\n            };\n        case SENDING_ACTION_RASPBERRY:\n            return {\n                ...raspberry,\n                ...action.changes,\n                actions: {\n                    ...raspberry.actions,\n                    [action.action]: 'sending',\n                },\n            };\n        case ACTION_SENT_RASPBERRY:\n            return {\n                ...raspberry,\n                ...action.changes,\n                actions: {\n                    ...raspberry.actions,\n                    [action.action]: null,\n                },\n                ...updateFromAction(action.action),\n            };\n        default:\n            return raspberry;\n    }\n}\n\nexport default function raspberries(raspberries = [], action) {\n    switch (action.type) {\n        case ADD_RASPBERRY:\n            return [\n                ...raspberries,\n                raspberry(undefined, action),\n            ];\n        case REMOVE_RASPBERRY:\n            return raspberries.filter(r => r.id !== action.id);\n        case UPDATE_ALL:\n            return action.raspberries;\n        case UPDATE_RASPBERRY:\n        case SAVING_RASPBERRY:\n        case SAVED_RASPBERRY:\n        case SENDING_ACTION_RASPBERRY:\n        case ACTION_SENT_RASPBERRY:\n            return raspberries.map(r => raspberry(r, action));\n        default:\n            return raspberries;\n    }\n}\n"],"sourceRoot":"/"}