{"version":3,"sources":["views/reducers/raspberries.js"],"names":[],"mappings":";;;;;;;;kBAkDwB;;AAlDxB;;AACA;;AAEA,SAAS,SAAT,CAAmB,SAAnB,EAA8B,MAA9B,EAAsC;AAClC,QAAI,OAAO,IAAP,6BAAJ,EAAmC;AAC/B,eAAO,OAAO,SAAP,CADwB;KAAnC;;AAIA,QAAI,UAAU,EAAV,KAAiB,OAAO,EAAP,EAAW;AAC5B,eAAO,SAAP,CAD4B;KAAhC;;AAIA,YAAQ,OAAO,IAAP;AACJ;AACI,mBAAO,OAAO,SAAP,CADX;AADJ,wCAGI;AACI,gCACO;AACH,wBAAQ,IAAR;cAFJ,CADJ;AAHJ,uCAQI;AACI,gCACO,WACA,OAAO,OAAP;AACH,wBAAQ,KAAR;cAHJ,CADJ;AARJ,gDAcI;AACI,gCACO,WACA,OAAO,OAAP;AACH,sCACO,UAAU,OAAV;AACH,qBAAC,OAAO,MAAP,GAAgB,SAAjB;kBAFJ;cAHJ,CADJ;AAdJ,6CAuBI;AACI,gCACO,WACA,OAAO,OAAP;AACH,sCACO,UAAU,OAAV;AACH,qBAAC,OAAO,MAAP,GAAgB,IAAjB;kBAFJ;eAIG,8CAAiB,OAAO,MAAP,EAPxB,CADJ;AAvBJ;AAkCQ,mBAAO,SAAP,CADJ;AAjCJ,KATkC;CAAtC;;AA+Ce,SAAS,WAAT,GAA+C;QAA1B,oEAAc,kBAAY;QAAR,sBAAQ;;AAC1D,YAAQ,OAAO,IAAP;AACJ;AACI,mBAAO,CACH,GAAG,WAAH,EACA,UAAU,SAAV,EAAqB,MAArB,CAFG,CAAP,CADJ;AADJ,wCAMI;AACI,mBAAO,YAAY,MAAZ,CAAmB;uBAAK,EAAE,EAAF,KAAS,OAAO,EAAP;aAAd,CAA1B,CADJ;AANJ,kCAQI;AACI,mBAAO,OAAO,WAAP,CADX;AARJ,wCAUI,CAVJ;AAWI,yCAXJ;AAYI,wCAZJ;AAaI,iDAbJ;AAcI;AACI,mBAAO,YAAY,GAAZ,CAAgB;uBAAK,UAAU,CAAV,EAAa,MAAb;aAAL,CAAvB,CADJ;AAdJ;AAiBQ,mBAAO,WAAP,CADJ;AAhBJ,KAD0D;CAA/C","file":"views/reducers/raspberries.js","sourcesContent":["import { UPDATE_ALL, ADD_RASPBERRY, UPDATE_RASPBERRY, REMOVE_RASPBERRY, SAVING_RASPBERRY, SAVED_RASPBERRY, SENDING_ACTION_RASPBERRY, ACTION_SENT_RASPBERRY } from '../actions/raspberry';\nimport { updateFromAction } from '../../common/raspberryActionManager';\n\nfunction raspberry(raspberry, action) {\n    if (action.type === ADD_RASPBERRY) {\n        return action.raspberry;\n    }\n\n    if (raspberry.id !== action.id) {\n        return raspberry;\n    }\n\n    switch (action.type) {\n        case UPDATE_RASPBERRY:\n            return action.raspberry;\n        case SAVING_RASPBERRY:\n            return {\n                ...raspberry,\n                saving: true,\n            };\n        case SAVED_RASPBERRY:\n            return {\n                ...raspberry,\n                ...action.changes,\n                saving: false,\n            };\n        case SENDING_ACTION_RASPBERRY:\n            return {\n                ...raspberry,\n                ...action.changes,\n                actions: {\n                    ...raspberry.actions,\n                    [action.action]: 'sending',\n                },\n            };\n        case ACTION_SENT_RASPBERRY:\n            return {\n                ...raspberry,\n                ...action.changes,\n                actions: {\n                    ...raspberry.actions,\n                    [action.action]: null,\n                },\n                ...updateFromAction(action.action),\n            };\n        default:\n            return raspberry;\n    }\n}\n\nexport default function raspberries(raspberries = [], action) {\n    switch (action.type) {\n        case ADD_RASPBERRY:\n            return [\n                ...raspberries,\n                raspberry(undefined, action),\n            ];\n        case REMOVE_RASPBERRY:\n            return raspberries.filter(r => r.id !== action.id);\n        case UPDATE_ALL:\n            return action.raspberries;\n        case UPDATE_RASPBERRY:\n        case SAVING_RASPBERRY:\n        case SAVED_RASPBERRY:\n        case SENDING_ACTION_RASPBERRY:\n        case ACTION_SENT_RASPBERRY:\n            return raspberries.map(r => raspberry(r, action));\n        default:\n            return raspberries;\n    }\n}\n"],"sourceRoot":"/"}