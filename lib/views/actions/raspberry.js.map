{"version":3,"sources":["views/actions/raspberry.js"],"names":[],"mappings":"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","file":"views/actions/raspberry.js","sourcesContent":["export const UPDATE_ALL = 'UPDATE_ALL_RASPBERRY';\nexport const ADD_RASPBERRY = 'ADD_RASPBERRY';\nexport const UPDATE_RASPBERRY = 'UPDATE_RASPBERRY';\nexport const REMOVE_RASPBERRY = 'REMOVE_RASPBERRY';\nexport const SAVING_RASPBERRY = 'SAVING_RASPBERRY';\nexport const SAVED_RASPBERRY = 'SAVED_RASPBERRY';\nexport const SENDING_ACTION_RASPBERRY = 'SENDING_ACTION_RASPBERRY';\nexport const ACTION_SENT_RASPBERRY = 'ACTION_SENT_RASPBERRY';\n\nimport * as webSocket from '../../webSocket/index';\n\nexport function updateAll(raspberries) {\n    return {\n        type: UPDATE_ALL,\n        raspberries,\n    };\n}\n\nexport function add(raspberry) {\n    return {\n        type: ADD_RASPBERRY,\n        raspberry,\n    };\n}\n\nexport function update(raspberry) {\n    return {\n        type: UPDATE_RASPBERRY,\n        id: raspberry.id,\n        raspberry,\n    };\n}\n\nexport function remove(id) {\n    return {\n        type: REMOVE_RASPBERRY,\n        id,\n    };\n}\n\nfunction saving(raspberry) {\n    return {\n        type: SAVING_RASPBERRY,\n        id: raspberry.id,\n    };\n}\n\nfunction saved(raspberry, changes) {\n    return {\n        type: SAVED_RASPBERRY,\n        id: raspberry.id,\n        changes,\n    };\n}\n\nfunction sendingAction(raspberry, action) {\n    return {\n        type: SENDING_ACTION_RASPBERRY,\n        id: raspberry.id,\n        action: action,\n    };\n}\n\nfunction actionSent(raspberry, action, result) {\n    return {\n        type: ACTION_SENT_RASPBERRY,\n        id: raspberry.id,\n        action: action,\n        result: result,\n    };\n}\n\n\nexport function changeConfig(dispatch, raspberry, newConfig) {\n    dispatch(saving(raspberry));\n    webSocket.changeConfig(raspberry, newConfig, () => {\n        dispatch(saved(raspberry, { data: { ...raspberry.data, config: newConfig } }));\n    });\n}\n\nexport function sendAction(dispatch, raspberries, action) {\n    raspberries.forEach(raspberry => dispatch(sendingAction(raspberry, action)));\n    webSocket.sendAction(raspberries, action, (result) => {\n        raspberries.forEach(raspberry => dispatch(actionSent(raspberry, action, result)));\n    });\n}\n\nexport function saveUnknown(dispatch, raspberry, { name, addOrReplace, id }) {\n    dispatch(saving(raspberry));\n    webSocket.registerUnknown(raspberry, { name, addOrReplace, id }, (newRaspberry) => {\n        if (newRaspberry) {\n            if (newRaspberry.id !== raspberry.id) {\n                dispatch(remove(raspberry.id));\n                dispatch(update(newRaspberry));\n            } else {\n                dispatch(saved(newRaspberry, newRaspberry));\n            }\n        }\n    });\n}\n"],"sourceRoot":"/"}