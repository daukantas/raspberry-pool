{"version":3,"sources":["views/actions/raspberry.js"],"names":[],"mappings":"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","file":"views/actions/raspberry.js","sourcesContent":["export const UPDATE_ALL = 'UPDATE_ALL_RASPBERRY';\nexport const ADD_RASPBERRY = 'ADD_RASPBERRY';\nexport const UPDATE_RASPBERRY = 'UPDATE_RASPBERRY';\nexport const REMOVE_RASPBERRY = 'REMOVE_RASPBERRY';\nexport const SAVING_RASPBERRY = 'SAVING_RASPBERRY';\nexport const SAVED_RASPBERRY = 'SAVED_RASPBERRY';\nexport const SENDING_ACTION_RASPBERRY = 'SENDING_ACTION_RASPBERRY';\nexport const ACTION_DONE_RASPBERRY = 'ACTION_DONE_RASPBERRY';\n\nimport * as webSocket from '../../webSocket/index';\n\nexport function updateAll(raspberries) {\n    return {\n        type: UPDATE_ALL,\n        raspberries,\n    };\n}\n\nexport function add(raspberry) {\n    return {\n        type: ADD_RASPBERRY,\n        raspberry,\n    };\n}\n\nexport function update(raspberry) {\n    return {\n        type: UPDATE_RASPBERRY,\n        id: raspberry.id,\n        raspberry,\n    };\n}\n\nexport function remove(id) {\n    return {\n        type: REMOVE_RASPBERRY,\n        id,\n    };\n}\n\nfunction saving(raspberry) {\n    return {\n        type: SAVING_RASPBERRY,\n        id: raspberry.id,\n    };\n}\n\nfunction saved(raspberry, changes) {\n    return {\n        type: SAVED_RASPBERRY,\n        id: raspberry.id,\n        changes,\n    };\n}\n\nfunction sendingAction(raspberry, action) {\n    return {\n        type: SENDING_ACTION_RASPBERRY,\n        id: raspberry.id,\n        action: action,\n    };\n}\n\nfunction actionDone(raspberry, action, result) {\n    return {\n        type: ACTION_DONE_RASPBERRY,\n        id: raspberry.id,\n        action: action,\n        result: result,\n    };\n}\n\n\nexport function changeConfig(dispatch, raspberry, newConfig) {\n    dispatch(saving(raspberry));\n    webSocket.changeConfig(raspberry, newConfig, () => {\n        dispatch(saved(raspberry, { data: { ...raspberry.data, config: newConfig } }));\n    });\n}\n\nexport function sendAction(dispatch, raspberry, action) {\n    dispatch(sendingAction(raspberry, action));\n    webSocket.sendAction(raspberry, action, (result) => {\n        dispatch(actionDone(raspberry, action, result));\n    });\n}\n\nexport function saveUnknown(dispatch, raspberry, { name }) {\n    dispatch(saving(raspberry));\n    webSocket.registerUnknown(raspberry, name, (raspberry) => {\n        if (raspberry) {\n            dispatch(saved(raspberry, raspberry));\n        }\n    });\n}\n\nexport function broadcastAction(dispatch, raspberries, action) {\n    raspberries.forEach(raspberry => dispatch(sendingAction(raspberry, action)));\n    webSocket.broadcastAction(raspberries, action, (result) => {\n        raspberries.forEach(raspberry => dispatch(actionDone(raspberry, action, result)));\n    });\n}\n\n"],"sourceRoot":"/"}