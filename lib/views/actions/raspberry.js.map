{"version":3,"sources":["views/actions/raspberry.js"],"names":[],"mappings":"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","file":"views/actions/raspberry.js","sourcesContent":["export const UPDATE_ALL = 'UPDATE_ALL_RASPBERRY';\nexport const ADD_RASPBERRY = 'ADD_RASPBERRY';\nexport const UPDATE_RASPBERRY = 'UPDATE_RASPBERRY';\nexport const REMOVE_RASPBERRY = 'REMOVE_RASPBERRY';\nexport const SAVING_RASPBERRY = 'SAVING_RASPBERRY';\nexport const SAVED_RASPBERRY = 'SAVED_RASPBERRY';\nexport const SENDING_ACTION_RASPBERRY = 'SENDING_ACTION_RASPBERRY';\nexport const ACTION_SENT_RASPBERRY = 'ACTION_SENT_RASPBERRY';\n\nimport * as webSocket from '../../webSocket/index';\n\nexport function updateAll(raspberries) {\n    return {\n        type: UPDATE_ALL,\n        raspberries,\n    };\n}\n\nexport function add(raspberry) {\n    return {\n        type: ADD_RASPBERRY,\n        raspberry,\n    };\n}\n\nexport function update(raspberry) {\n    return {\n        type: UPDATE_RASPBERRY,\n        id: raspberry.id,\n        raspberry,\n    };\n}\n\nexport function remove(id) {\n    return {\n        type: REMOVE_RASPBERRY,\n        id,\n    };\n}\n\nfunction saving(raspberry) {\n    return {\n        type: SAVING_RASPBERRY,\n        id: raspberry.id,\n    };\n}\n\nfunction saved(raspberry, changes) {\n    return {\n        type: SAVED_RASPBERRY,\n        id: raspberry.id,\n        changes,\n    };\n}\n\nfunction sendingAction(raspberry, action) {\n    return {\n        type: SENDING_ACTION_RASPBERRY,\n        id: raspberry.id,\n        action: action,\n    };\n}\n\nfunction actionSent(raspberry, action, result) {\n    return {\n        type: ACTION_SENT_RASPBERRY,\n        id: raspberry.id,\n        action: action,\n        result: result,\n    };\n}\n\n\nexport function changeConfig(dispatch, raspberry, newConfig) {\n    dispatch(saving(raspberry));\n    webSocket.changeConfig(raspberry, newConfig, () => {\n        dispatch(saved(raspberry, { data: { ...raspberry.data, config: newConfig } }));\n    });\n}\n\nexport function sendAction(dispatch, raspberries, action) {\n    raspberries.forEach(raspberry => dispatch(sendingAction(raspberry, action)));\n    webSocket.sendAction(raspberries, action, (result) => {\n        raspberries.forEach(raspberry => dispatch(actionSent(raspberry, action, result)));\n    });\n}\n\nexport function saveUnknown(dispatch, raspberry, { name, addOrReplace, id }) {\n    dispatch(saving(raspberry));\n    webSocket.registerUnknown(raspberry, { name, addOrReplace, id }, (newRaspberry) => {\n        if (newRaspberry) {\n            if (newRaspberry.id !== raspberry.id) {\n                dispatch(remove(raspberry.id));\n                dispatch(update(newRaspberry));\n            } else {\n                dispatch(saved(newRaspberry, newRaspberry));\n            }\n        }\n    });\n}\n"],"sourceRoot":"/"}